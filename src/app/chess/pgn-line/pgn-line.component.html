<app-pgn-move *ngFor="let move of getMoves(); let i=index"
              [moveContext]="move"
              [positionIndex]="basePosition.concat([{'ply': i + 1}])"
              (updatePosition)="onUpdatePosition()">
  <span *ngFor="let subLine of move.childVariations; let j=index">
    (<app-pgn-line [line]="subLine"
               [basePosition]="basePosition.concat([{'ply': i + 1, 'variation': j}])"
               (updatePosition)="onUpdatePosition()">
    </app-pgn-line>)
  </span>
</app-pgn-move>
